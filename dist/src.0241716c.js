parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"ASXP":[function(require,module,exports) {
var define;
var n;!function(r,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof n&&n.amd?n([],t):"object"==typeof exports?exports.goodlebyLib=t():r.goodlebyLib=t()}(self,function(){return function(){"use strict";var n={d:function(r,t){for(var e in t)n.o(t,e)&&!n.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})},o:function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},r:function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},r={};n.r(r),n.d(r,{addTime:function(){return x},camelize:function(){return b},countDecimals:function(){return i},debounce:function(){return O},filterPhone:function(){return M},floorTo:function(){return o},gcd:function(){return c},getDOM:function(){return E},getMatrix:function(){return p},getMatrixClone:function(){return s},getMemoizedFn:function(){return T},getPrimes:function(){return z},getRandBool:function(){return e},getRandNum:function(){return t},getRandPrime:function(){return L},getScrollbarHeight:function(){return S},getScrollbarWidth:function(){return j},linearMatrixDot:function(){return h},matrixApply:function(){return m},matrixDot:function(){return a},matrixMinus:function(){return l},matrixPlus:function(){return f},onSwipe:function(){return P},popSlash:function(){return d},regexpEscape:function(){return y},relativeUrl:function(){return v},roundTo:function(){return u},shuffleArr:function(){return A},stringReplace:function(){return w},transposeMatrix:function(){return g}});var t=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e=Math.floor(Math.random()*(r-n+1-t.length)+n);return t.sort(function(n,r){return n-r}).every(function(n){return n<=e&&(e++,!0)}),e},e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()<n},u=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round(n*Math.pow(10,r))/Math.pow(10,r)},o=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(n*Math.pow(10,r))/Math.pow(10,r)},i=function(n){return Math.floor(n)!==n?n.toString().split(".")[1].length:0},c=function n(r,t){return 0===t?r:n(t,r%t)},a=function(n,r){var t=[n,r],e=t.map(function(n){return n[0].length});if(!t.every(function(n,r){return n.every(function(n){return n.length===e[r]})}))throw new Error("All rows in a matrix must have an equal amount of columns");if(e[0]!==r.length)throw new Error("Amount of columns in the 1st matrix must match an amount of rows in the 2nd matrix");return n.map(function(n){return r[0].map(function(t,e){return n.reduce(function(n,t,u){return n+t*r[u][e]},0)})})},f=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n+r[t][e]})})},l=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n-r[t][e]})})},h=function(n,r){var t=[n,r],e=n[0].length;if(!t.every(function(n){return n.every(function(n){return n.length===e})})||n.length!==r.length)throw new Error("Matrices must be same size");return n.map(function(n,t){return n.map(function(n,e){return n*r[t][e]})})},m=function(n,r){return n.map(function(n,t){return n.map(function(n,e){return r(n,e,t)})})},p=function(n,r,t){return Array(n).fill(0).map(function(n,e){return Array(r).fill(0).map(function(n,r){return t(r,e)})})},s=function n(r,t){return r.map(function(r){return Array.isArray(r)?n(r,t):t()})},g=function(n){var r=n[0].length;if(!n.every(function(n){return n.length===r}))throw new Error("All rows in a matrix must have an equal amount of columns");return Array(r).fill(0).map(function(r,t){return n.map(function(n){return n[t]})})},d=function(n){return n.replace(/\/+$/,"")},v=function(n){return d(n.replace(/^(?:\/\/|[^/])+/,""))},y=function(n){return n.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&")},w=function(n,r){var t=new RegExp(Object.keys(r).map(function(n){return y(n)}).join("|"),"g");return n.replace(t,function(n){return r[n]})},M=function(n,r){var t=new RegExp("".concat(r?"(^\\s*\\+?\\s*(".concat(r,"))?"):"","[^0-9]*"),"g");return[r,n.replace(t,"")].filter(function(n){return!!n}).join("")},b=function(n){var r=n.replace(/[^a-z]+([a-z])?/gi,function(n,r){return r?r.toUpperCase():""});return r[0].toLowerCase()+r.slice(1)},x=function(){for(var n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];for(var e=r.reduce(function(n,r){return r.split(":").length>n?r.split(":").length:n},0),u=Array(e).fill(0).map(function(n,t){return r.reduce(function(n,e,u){return n+Number(r[u].split(":")[t]||0)},0)}),o=e-2;o>=0;o--)u[o]+=Math.floor(u[o+1]/60),u[o+1]%=60;return u.map(function(n){return n<10?"0".concat(n):n}).join(":")},A=function(n){for(var r=n.slice(),t=r.length-1;t>0;t--){var e=Math.floor(Math.random()*(t+1)),u=[r[e],r[t]];r[t]=u[0],r[e]=u[1]}return r},E=function(n){var r=document.createElement("div");return r.innerHTML=n,Array.from(r.children)},j=function(){return window.innerWidth-document.body.clientWidth},S=function(){return window.innerHeight-document.body.clientHeight},T=function(n){var r={};return function(){for(var t=arguments.length,e=new Array(t),u=0;u<t;u++)e[u]=arguments[u];var o=JSON.stringify(e);return r[o]||(r[o]=n.apply(void 0,e))}},O=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,e=null,u=null,o=function(){u=null,n.apply(void 0,arguments)};return function(){for(var n=arguments.length,i=new Array(n),c=0;c<n;c++)i[c]=arguments[c];u||(u=performance.now()),e&&(clearTimeout(e),e=null),t&&performance.now()-u>=t?o.apply(void 0,i):e=setTimeout(function(){return o.apply(void 0,i)},r)}},P=function(n,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var t=function(r){var t=r.changedTouches[0],e=t.clientX,u=t.clientY;this.startX=e,this.startY=u,n.addEventListener("touchend",this.onTouchEnd),n.addEventListener("touchmove",this.onTouchMove)};n.addEventListener("touchstart",t)},z=function(n,r){for(var t=Array(r+1).fill(0).map(function(n,r){return r}),e=2;e<=Math.sqrt(r+1);e++)for(var u=Math.pow(e,2);u<r+1;u+=e)delete t[u];return Object.values(t.slice(n))},L=function(n,r){var e=z(n,r);return e[t(0,e.length-1)]};return r}()});
},{}],"aJPB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOpposite=exports.moveCoordinates=void 0;var e=function(e,t){var r=e.x,o=e.y;switch(t){case"left":r--;break;case"right":r++;break;case"up":o--;break;case"down":o++}return{x:r,y:o}};exports.moveCoordinates=e;var t=function(e){return{left:"right",right:"left",up:"down",down:"up"}[e]};exports.getOpposite=t;
},{}],"tWZS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Snake=void 0;var e=require("./coordinates");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}var r=function(){function n(e,o,r){t(this,n),this.length=r,this.body=[{x:e,y:o}]}return o(n,[{key:"move",value:function(t){var n=(0,e.moveCoordinates)(this.body[0],t);this.body.unshift(n),this.body=this.body.slice(0,this.length)}},{key:"grow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.length+=e}}]),n}();exports.Snake=r;var i=r;exports.default=i;
},{"./coordinates":"aJPB"}],"iycU":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Apple=void 0;var t=function t(o,s,r,a){e(this,t),this.coordinates={x:o,y:s},this.score=r,this.color=a};exports.Apple=t;var o=t;exports.default=o;
},{}],"ZGbp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.RedApple=void 0;var t=require("./apple");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=i();return function(){var r,o=p(t);if(e){var n=p(this).constructor;r=Reflect.construct(o,arguments,n)}else r=o.apply(this,arguments);return c(this,r)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?f(t):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){o(c,t.Apple);var n=u(c);function c(t,e){return r(this,c),n.call(this,t,e,1,"#f22")}return c}();exports.RedApple=l;var s=l;exports.default=s;
},{"./apple":"iycU"}],"l0ad":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.OrangeApple=void 0;var t=require("./apple");function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=i();return function(){var r,n=p(t);if(e){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return c(this,r)}}function c(t,r){return!r||"object"!==e(r)&&"function"!=typeof r?f(t):r}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(e){n(c,t.Apple);var o=u(c);function c(t,e){return r(this,c),o.call(this,t,e,2,"#fc6")}return c}();exports.OrangeApple=l;var a=l;exports.default=a;
},{"./apple":"iycU"}],"kruH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Game=void 0;var e=require("@goodleby/lib"),t=require("./coordinates"),i=a(require("./snake")),s=a(require("./redApple")),n=a(require("./orangeApple"));function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function l(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var u=function(){function a(t){var s=this;r(this,a),this.queue=[],this.apples=[],this._play=!1,this.fieldSize=15,this.cellSize=25,this.startLength=3,this.speed=200,this.orangeAppleSpawnRate=.02,this.orangeAppleDuration=7e3,this.area=Math.pow(this.fieldSize,2);var n=document.querySelector(t);if(!n)throw new Error("Passed `selector` did not match any DOM element");this.root=n,this.root.innerHTML="",this.messages=document.createElement("div"),this.messages.classList.add("messages"),this.score=document.createElement("div"),this.score.classList.add("score"),this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=this.fieldSize*this.cellSize;var o=this.canvas.getContext("2d");if(!o)throw new Error("Canvas did not return context");this.ctx=o,this.root.append(this.messages),this.root.append(this.score),this.root.append(this.canvas);var l=Math.floor(this.fieldSize/2);this.snake=new i.default(l,l,this.startLength),this.loop=this.loop.bind(this),window.addEventListener("keyup",function(e){if(!s.lastDirection||s._play){var t=null;switch(e.code){case"ArrowLeft":t="left";break;case"ArrowRight":t="right";break;case"ArrowUp":t="up";break;case"ArrowDown":t="down"}t&&t!==s.queue[0]&&(s.queue.unshift(t),s.queue=s.queue.slice(0,2),s.lastDirection||s.play())}}),(0,e.onSwipe)(document.body,function(e,t){s.lastDirection&&!s._play||t!==s.queue[0]&&(s.queue.unshift(t),s.queue=s.queue.slice(0,2),s.lastDirection||s.play())}),this.render(),this.updateScore()}return l(a,[{key:"play",value:function(){this._play=!0,this.loop()}},{key:"pause",value:function(){this._play=!1}},{key:"getRandCoords",value:function(){var t=this,i=this.snake.body.map(function(e){var i=e.x;return e.y*t.fieldSize+i}),s=this.apples.map(function(e){var i=e.coordinates,s=i.x;return i.y*t.fieldSize+s}),n=[].concat(i,s),a=(0,e.getRandNum)(0,this.area-1,n),r=Math.floor(a/this.fieldSize);return{x:a-r*this.fieldSize,y:r}}},{key:"clearField",value:function(){var e=this.canvas,t=e.width,i=e.height;this.ctx.clearRect(0,0,t,i)}},{key:"renderField",value:function(){var e=this.fieldSize,t=this.ctx,i=this.cellSize;t.fillStyle="#000";for(var s=0;s<e;s++)for(var n=0;n<e;n++)t.fillRect(s*i+1,n*i+1,i-2,i-2)}},{key:"renderSnake",value:function(){var e=this.ctx,t=this.cellSize,i=this.snake.body;e.fillStyle="#2f4",i.forEach(function(i){var s=i.x,n=i.y;e.fillRect(s*t+1,n*t+1,t-2,t-2)})}},{key:"moveSnake",value:function(){for(var e=this.queue,i=this.lastDirection,s=e.length-1;s>=0&&(e[s]===(0,t.getOpposite)(i)||e[s]===i);s--)e.splice(s,1);var n=e.pop()||i;this.snake.move(n),this.lastDirection=n}},{key:"renderApples",value:function(){var e=this.ctx,t=this.cellSize;this.apples.forEach(function(i){var s=i.coordinates,n=s.x,a=s.y;e.fillStyle=i.color,e.fillRect(n*t+1,a*t+1,t-2,t-2)})}},{key:"spawnRedApple",value:function(){var e=this.getRandCoords(),t=e.x,i=e.y,n=new s.default(t,i);this.apples.push(n)}},{key:"needRedApple",value:function(){return!this.apples.find(function(e){return e instanceof s.default})}},{key:"spawnOrangeApple",value:function(){var e=this,t=this.getRandCoords(),i=t.x,s=t.y,a=new n.default(i,s);this.apples.push(a),setTimeout(function(){var t=e.apples.indexOf(a);-1!==t&&e.apples.splice(t,1)},this.orangeAppleDuration)}},{key:"needOrangeApple",value:function(){return!this.apples.find(function(e){return e instanceof n.default})&&(0,e.getRandBool)(this.orangeAppleSpawnRate)}},{key:"checkLose",value:function(){var e=this.fieldSize,t=this.snake,i=t.body[0],s=i.x,n=i.y;return s<0||s>e-1||n<0||n>e-1||t.body.slice(1).some(function(e){return e.x===s&&e.y===n})}},{key:"lose",value:function(){this.pause(),this.showMessage("Sorry, you lost.","danger")}},{key:"checkWin",value:function(){var e=this.area;return this.snake.body.length===e}},{key:"win",value:function(){this.pause(),this.showMessage("You won!","success")}},{key:"checkAppleCollisions",value:function(){var e=this,t=this.snake.body[0],i=t.x,s=t.y;this.apples.forEach(function(t){var n=t.coordinates,a=t.score;n.x===i&&n.y===s&&(e.snake.grow(a),e.updateScore(),e.apples.splice(e.apples.indexOf(t),1))})}},{key:"render",value:function(){this.clearField(),this.renderField(),this.renderSnake(),this.renderApples()}},{key:"showMessage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=document.createElement("div");i.classList.add("message",t),i.innerText=e,this.messages.append(i)}},{key:"updateScore",value:function(){this.score.innerText="Your score: ".concat(this.snake.length)}},{key:"loop",value:function(){var e=this;if(this.needRedApple()&&this.spawnRedApple(),this.needOrangeApple()&&this.spawnOrangeApple(),this.moveSnake(),this.checkAppleCollisions(),this.checkLose())return this.lose();this.checkWin()&&this.win(),this.render(),this._play&&setTimeout(function(){return requestAnimationFrame(e.loop)},this.speed)}}]),a}();exports.Game=u;var c=u;exports.default=c;
},{"@goodleby/lib":"ASXP","./coordinates":"aJPB","./snake":"tWZS","./redApple":"ZGbp","./orangeApple":"l0ad"}],"QCba":[function(require,module,exports) {
"use strict";var e=r(require("./components/game"));function r(e){return e&&e.__esModule?e:{default:e}}var t=new e.default("#root");
},{"./components/game":"kruH"}]},{},["QCba"], null)
//# sourceMappingURL=src.0241716c.js.map